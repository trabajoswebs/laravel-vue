Actions/
  Profile/
    DeleteAvatar.php - Accion invocable que elimina el avatar de un usuario y relanza limpieza de media.
    UpdateAvatar.php - Accion transaccional que reemplaza el avatar controlando versionado y eventos.
Console/
  Commands/
    CleanAuditLogs.php - Comando Artisan que depura registros de auditoria historicos.
Events/
  User/
    AvatarDeleted.php - Evento de dominio emitido al borrar un avatar.
    AvatarUpdated.php - Evento emitido tras actualizar el avatar con metadata previa.
Helpers/
  AvatarHeaderInspector.php - Valida cabeceras ACL/ContentType al entregar avatares (S3/discos locales).
  SecurityHelper.php - Utilidades de sanitizacion y validacion segura para entradas y logs.
Http/
  Controllers/
    Auth/
      AuthenticatedSessionController.php - Controlador Inertia para login y sesiones autenticadas.
      ConfirmablePasswordController.php - Solicita confirmacion de password en acciones sensibles.
      EmailVerificationNotificationController.php - Reenvia notificaciones de verificacion de email.
      EmailVerificationPromptController.php - Muestra pantalla para usuarios pendientes de verificacion.
      NewPasswordController.php - Aplica contrasenia nueva desde el flujo de reseteo.
      PasswordResetLinkController.php - Genera y envia enlace de reseteo de password.
      RegisteredUserController.php - Gestiona registro de nuevos usuarios.
      VerifyEmailController.php - Confirma verificacion de email desde enlace enviado.
    Controller.php - Base comun para controllers con helpers y props compartidos.
    LanguageController.php - Permite al usuario seleccionar el idioma de la aplicacion.
    Media/
      ShowAvatar.php - Controlador que devuelve la vista publica del avatar para la interfaz.
    Settings/
      PasswordController.php - Actualiza la contrasenia desde el panel de ajustes.
      ProfileAvatarController.php - Gestiona subida, preview y validaciones del avatar.
      ProfileController.php - Actualiza datos generales del perfil.
  Middleware/
    HandleAppearance.php - Aplica preferencias de apariencia (tema).
    HandleInertiaRequests.php - Define props globales para Inertia y versionado.
    PreventBruteForce.php - Limita intentos repetidos para evitar fuerza bruta.
    RateLimitUploads.php - Middleware que aplica throttling configurable a las subidas de imagen.
    SanitizeInput.php - Normaliza y limpia inputs de formularios.
    SecurityHeaders.php - Inyecta cabeceras CSP/HSTS personalizadas.
    TrustProxies.php - Configura proxies de confianza para peticiones.
    UserAudit.php - Registra acciones sensibles del usuario autenticado.
  Requests/
    Auth/
      LoginRequest.php - Valida credenciales y aplica rate limit en login.
    Concerns/
      SanitizesInputs.php - Trait reutilizable para sanitizar payloads anidados con SecurityHelper.
    Settings/
      DeleteAvatarRequest.php - Autoriza y valida peticion de borrado de avatar.
      ProfileUpdateRequest.php - Valida actualizacion de datos del perfil.
      UpdateAvatarRequest.php - Valida subida de avatar con limites estrictos.
    UploadImageRequest.php - Request generico para subidas de imagen.
Jobs/
  CleanupMediaArtifactsJob.php - Elimina artefactos residuales de media antigua.
  PostProcessAvatarMedia.php - Encola postproceso y optimizacion del avatar.
Listeners/
  Media/
    RunPendingMediaCleanup.php - Dispara limpieza pendiente tras conversions.
  User/
    QueueAvatarPostProcessing.php - Encola postproceso tras actualizacion de avatar.
Models/
  Concerns/
    TracksMediaVersions.php - Trait que sincroniza columnas de version con media.
  User.php - Modelo de usuario con relaciones y atributos principales.
Observers/
  MediaObserver.php - Observa eventos de media para limpieza y logs.
Policies/
  UserPolicy.php - Autoriza acciones sobre usuarios y administracion de media.
Providers/
  AppServiceProvider.php - Registra bindings base de la aplicacion.
  AuthServiceProvider.php - Registra politicas de autenticacion.
  EventServiceProvider.php - Mapea eventos a listeners.
  HtmlPurifierServiceProvider.php - Configura perfiles de HTMLPurifier.
  ImagePipelineServiceProvider.php - Alias de middleware y sanity checks para pipeline de imagen.
  MediaLibraryBindingsServiceProvider.php - Enlaces personalizados para media library.
Rules/
  SecureImageValidation.php - Regla avanzada de validacion de imagenes (firma, payloads).
  Documents/
    .gitkeep - Placeholder para reglas relacionadas con procesamiento de documentos.
Services/
  Concerns/
    GuardsUploadedImage.php - Helpers reutilizables para servicios que manejan imagenes subidas.
  DocumentPipeline/
    .gitkeep - Placeholder para futuros workflows de documentos.
  ImagePipeline/
    FallbackWorkflow.php - Workflow del pipeline cuando no hay driver especializado.
    ImageProcessingException.php - Excepcion del pipeline al procesar imagenes.
    ImagickWorkflow.php - Workflow basado en Imagick.
    PipelineArtifacts.php - DTO para archivos generados por el pipeline.
    PipelineConfig.php - Encapsula configuracion del pipeline.
    PipelineLogger.php - Logger dedicado para ejecuciones.
  ImagePipeline.php - Fachada que coordina los workflows de procesamiento.
  ImagePipelineResult.php - Resultado estandarizado con hash, mime y dimensiones.
  ImageUploadService.php - Coordina validaciones y adjunta imagenes a la libreria de media.
  Optimizer/
    Adapters/
      LocalOptimizationAdapter.php - Ejecuta optimizaciones locales (pngquant, etc.).
      RemoteDownloader.php - Descarga artefactos optimizados desde servicio remoto.
      RemoteUploader.php - Sube imagen a optimizador remoto.
  OptimizerService.php - Selecciona adapter y ejecuta optimizaciones.
  Security/
    Scanners/
      AbstractScanner.php - Clase base que resuelve binarios y rutas seguras.
      ClamAvScanner.php - Implementa clamdscan reutilizando la base compartida.
      YaraScanner.php - Ejecuta reglas YARA con listas blancas.
  TranslationService.php - Gestiona traducciones cargadas dinamicamente.
  Upload/
    Contracts/
      UploadPipeline.php - Contrato que define el flujo completo de subida.
      UploadResult.php - DTO que resume el resultado de una subida.
      UploadService.php - Interfaz para los servicios de subida consumibles.
    Core/
      LocalQuarantineRepository.php - Repositorio local para archivos en cuarentena.
      QuarantineRepository.php - Abstraccion de repositorios de cuarentena.
Support/
  Documents/
    Profiles/
      .gitkeep - Placeholder para perfiles de documento.
  Media/
    Contracts/
      MediaOwner.php - Interfaz para modelos que exponen media.
    ConversionProfiles/
      AvatarConversionProfile.php - Define conversions especificas de avatar.
      FileConstraints.php - Limites de archivo compartidos.
    DTO/
      CleanupPayload.php - DTO para limpieza luego del reemplazo.
      ConversionExpectations.php - DTO que lista conversions esperadas.
      ReplacementResult.php - Combinacion del media nuevo con snapshot anterior.
      ReplacementSnapshot.php - Snapshot de artefactos a limpiar.
      ReplacementSnapshotItem.php - Elemento individual del snapshot.
    ImageProfile.php - Contrato para definir perfiles de colecciones de media.
    Jobs/
      PerformConversionsJob.php - Ejecuta conversions en cola.
    MediaArtifactCollector.php - Identifica archivos relacionados con media previo.
    MediaLifecycleCoordinator.php - Coordina limpieza y estados de media.
    Models/
      MediaCleanupState.php - Persistencia del estado de limpieza por media.
    Profiles/
      AvatarProfile.php - Perfil preconfigurado para coleccion avatar.
      GalleryProfile.php - Perfil para la coleccion de galeria.
    Services/
      MediaCleanupScheduler.php - Agenda trabajos de limpieza y conversions.
      MediaReplacementService.php - Reemplaza media existente y dispara cleanup.
